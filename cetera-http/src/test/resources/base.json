{
  "mappings" : {
    "document" : {
      "_parent" : {
        "type" : "domain"
      },
      "properties" : {
        "fts_analyzed" : {
          "type": "string",
          "index": "analyzed",
          "analyzer": "snowball_en"
        },
        "fts_raw" : {
          "type": "string",
          "index": "not_analyzed"
        },
        "approving_domain_ids" : {
          "type" : "long"
        },
        "is_approved_by_parent_domain" : {
          "type" : "boolean"
        },
        "datatype" : {
          "type" : "string",
          "index": "not_analyzed"
        },
        "viewtype" : {
          "type" : "string",
          "index": "not_analyzed"
        },
        "is_moderation_approved" : {
          "type" : "boolean"
        },
        "is_default_view" : {
          "type" : "boolean"
        },
        "popularity" : {
          "type" : "float"
        },
        "update_freq" : {
          "type" : "float"
        },
        "updated_at" : {
            "type" : "date"
        },
        "created_at" : {
            "type" : "date"
        },
        "page_views" : {
          "properties": {
            "page_views_last_week": {
              "type": "long"
            },
            "page_views_last_month": {
              "type": "long"
            },
            "page_views_total": {
              "type": "long"
            },
            "page_views_last_week_log": {
              "type": "float"
            },
            "page_views_last_month_log": {
              "type": "float"
            },
            "page_views_total_log": {
              "type": "float"
            }
          }
        },
        "indexed_metadata" : {
          "properties" : {
            "columns_description" : {
              "type" : "string",
              "copy_to": [ "fts_analyzed", "fts_raw" ],
              "fields" : {
                "raw" : {"type" : "string", "index" : "not_analyzed"},
                "analyzed" : {"type" : "string", "index" : "analyzed", "analyzer" : "snowball_en"}
              }
            },
            "columns_name" : {
              "type" : "string",
              "copy_to": [ "fts_analyzed", "fts_raw" ],
              "fields" : {
                "raw" : {"type" : "string", "index" : "not_analyzed"},
                "analyzed" : {"type" : "string", "index" : "analyzed", "analyzer" : "snowball_en"}
              }
            },
            "columns_field_name" : {
              "type" : "string",
              "copy_to": [ "fts_analyzed", "fts_raw" ],
              "fields" : {
                "raw" : {"type" : "string", "index" : "not_analyzed"},
                "analyzed" : {"type" : "string", "index" : "analyzed", "analyzer" : "snowball_en"}
              }
            },
            "description" : {
              "type" : "string",
              "copy_to": [ "fts_analyzed", "fts_raw" ],
              "fields" : {
                "raw" : {"type" : "string", "index" : "not_analyzed"},
                "analyzed" : {"type" : "string", "index" : "analyzed", "analyzer" : "snowball_en"}
              }
            },
            "name" : {
              "type" : "string",
              "copy_to": [ "fts_analyzed", "fts_raw" ],
              "fields" : {
                "raw" : {"type" : "string", "index" : "not_analyzed"},
                "analyzed" : {"type" : "string", "index" : "analyzed", "analyzer" : "snowball_en"}
              }
            }
          },
          "type" : "object"
        },
        "resource" : {
          "enabled" : false,
          "type" : "nested",
          "properties" : {
            "page_views" : {
              "properties": {
                "page_views_last_week": {
                  "type": "long"
                },
                "page_views_last_month": {
                  "type": "long"
                },
                "page_views_total": {
                  "type": "long"
                }
              }
            },
            "description" : {
              "type" : "string"
            },
            "nbe_fxf" : {
              "type" : "string"
            },
            "obe_fxf" : {
              "type" : "string"
            },
            "id" : {
              "type" : "string"
            },
            "updatedAt" : {
              "type" : "date"
            },
            "createdAt" : {
              "type" : "date"
            },
            "type" : {
              "type" : "string"
            },
            "name" : {
              "type" : "string"
            },
            "columns_description" : {
              "type" : "string",
              "copy_to": [ "fts_analyzed", "fts_raw" ],
              "fields" : {
                "raw" : {"type" : "string", "index" : "not_analyzed"},
                "analyzed" : {"type" : "string", "index" : "analyzed", "analyzer" : "snowball_en"}
              }
            },
            "columns_name" : {
              "type" : "string",
              "copy_to": [ "fts_analyzed", "fts_raw" ],
              "fields" : {
                "raw" : {"type" : "string", "index" : "not_analyzed"},
                "analyzed" : {"type" : "string", "index" : "analyzed", "analyzer" : "snowball_en"}
              }
            },
            "columns_field_name" : {
              "type" : "string",
              "copy_to": [ "fts_analyzed", "fts_raw" ],
              "fields" : {
                "raw" : {"type" : "string", "index" : "not_analyzed"},
                "analyzed" : {"type" : "string", "index" : "analyzed", "analyzer" : "snowball_en"}
              }
            }
          }
        },
        "socrata_id" : {
          "properties" : {
            "dataset_id" : {
              "type" : "string"
            },
            "domain_id" : {
              "type" : "long"
            }
          },
          "type" : "object"
        },
        "animl_annotations" : {
          "properties" : {
            "categories" : {
              "type" : "nested",
              "properties" : {
                "name" : {
                  "type" : "string",
                  "analyzer": "case_insensitive_en",
                  "copy_to": [ "fts_analyzed", "fts_raw" ],
                  "fields" : {
                    "raw" : {"type" : "string", "store" : "yes", "index" : "not_analyzed"},
                    "analyzed" : {"type" : "string", "index" : "analyzed", "analyzer" : "snowball_en"}
                  }
                },
                "score" : {"type" : "float", "store" : "no", "index" : "not_analyzed"}
              }
            },
            "tags" : {
              "type" : "nested",
              "properties" : {
                "name" : {
                  "type" : "string",
                  "analyzer": "case_insensitive_en",
                  "copy_to": [ "fts_analyzed", "fts_raw" ],
                  "fields" : {
                    "raw" : {"type" : "string", "store" : "yes", "index" : "not_analyzed"},
                    "analyzed" : {"type" : "string", "index" : "analyzed", "analyzer" : "snowball_en"}
                  }
                },
                "score" : {"type" : "float", "store" : "no", "index" : "not_analyzed"}
              }
            }
          }
        },
        "customer_tags" : {
          "type" : "string",
          "analyzer": "case_insensitive_en",
          "copy_to": [ "fts_analyzed", "fts_raw" ],
          "fields": {
            "raw" : {"type" : "string", "index" : "not_analyzed"},
            "analyzed" : {"type" : "string", "index" : "analyzed", "analyzer" : "snowball_en"}
          }
        },
        "customer_category" : {
          "type" : "string",
          "analyzer": "case_insensitive_en",
          "copy_to": [ "fts_analyzed", "fts_raw" ],
          "fields" : {
            "raw" : {"type" : "string", "index" : "not_analyzed"},
            "analyzed" : {"type" : "string", "index" : "analyzed", "analyzer" : "snowball_en"}
          }
        },
        "customer_metadata_flattened" : {
          "type": "nested",
          "properties" : {
            "key" : {
              "type" : "string",
              "copy_to": [ "fts_analyzed", "fts_raw" ],
              "fields" : {
                "raw" : {"type" : "string", "store" : "yes", "index" : "not_analyzed"},
                "analyzed" : {"type" : "string", "index" : "analyzed", "analyzer" : "snowball_en"}
              }
            },
            "value" : {
              "type" : "string",
              "copy_to": [ "fts_analyzed", "fts_raw" ],
              "fields" : {
                "raw" : {"type" : "string", "store" : "yes", "index" : "not_analyzed"},
                "analyzed" : {"type" : "string", "index" : "analyzed", "analyzer" : "snowball_en"}
              }
            }
          }
        }
      }
    },
    "domain": {
      "properties" : {
        "fts_analyzed" : {
          "type": "string",
          "index": "analyzed",
          "analyzer": "snowball_en"
        },
        "fts_raw" : {
          "type": "string",
          "index": "not_analyzed"
        },
        "domain_cname" : {
          "type" : "string",
          "analyzer" : "simple",
          "copy_to": [ "fts_analyzed", "fts_raw" ],
          "fields" : {
            "raw" : {"type" : "string", "index" : "not_analyzed"},
            "analyzed" : {"type" : "string", "index" : "analyzed", "analyzer" : "snowball_en"}
          }
        },
        "domain_id" : {
          "type": "long"
        },
        "site_title" : {
          "type" : "string",
          "copy_to": [ "fts_analyzed", "fts_raw" ],
          "fields" : {
            "raw" : {"type" : "string", "index" : "not_analyzed"},
            "analyzed" : {"type" : "string", "index" : "analyzed", "analyzer" : "snowball_en"}
          }
        },
        "organization" : {
          "type" : "string",
          "copy_to": [ "fts_analyzed", "fts_raw" ],
          "fields" : {
            "raw" : {"type" : "string", "index" : "not_analyzed"},
            "analyzed" : {"type" : "string", "index" : "analyzed", "analyzer" : "snowball_en"}
          }
        },
        "is_customer_domain" : {
          "type": "boolean"
        },
        "moderation_enabled" : {
          "type": "boolean"
        },
        "routing_approval_enabled" : {
          "type" : "boolean"
        }
      }
    }
  }
}
